# Migration Strategy Document (COBOL → Java)

## Document Information

| Item | Details |
|------|---------|
| **Project Name** | {{project.name}} |
| **Migration Type** | COBOL → Java |
| **Document Type** | Migration Strategy |
| **Generated Date** | {{generated_date}} |
| **Version** | {{version}} |

---

## 1. Source Analysis Summary

### 1.1 Scope from Source Inventory

**Source:** As-Is Analysis extraction

| Metric | Value | Source |
|--------|-------|--------|
| Total COBOL Programs | {{metadata.source_analysis.total_files}} | Directory scan |
| Total LOC | {{metadata.source_analysis.total_loc}} | LOC analysis |
| Total Copybooks | {{metadata.copybook_count}} | COPY extraction |
| Total JCL Jobs | {{metadata.jcl_count}} | JCL scan |
| Average Complexity | {{metadata.complexity.avg_cyclomatic}} | Complexity analysis |
| High Complexity Programs | {{metadata.complexity.high_count}} | Complexity analysis |

### 1.2 Component Classification

**Source:** Program type analysis

{{#if metadata.program_classification}}
| Category | Count | Programs | Complexity Range |
|----------|-------|----------|------------------|
{{#each metadata.program_classification}}
| {{this.category}} | {{this.count}} | {{this.programs}} | {{this.complexity_range}} |
{{/each}}
{{else}}
> **Not found in source:** Program classification not performed.
{{/if}}

---

## 2. Migration Approach Selection

### 2.1 Approach Based on Source Metrics

**Source:** Complexity and pattern analysis

{{#if strategy.approach_analysis}}
| Factor | Source Value | Approach Implication |
|--------|--------------|----------------------|
{{#each strategy.approach_analysis}}
| {{this.factor}} | {{this.value}} | {{this.implication}} |
{{/each}}
{{else}}
| Factor | Source Value | Source |
|--------|--------------|--------|
| Total LOC | {{metadata.source_analysis.total_loc}} | LOC analysis |
| Avg Complexity | {{metadata.complexity.avg_cyclomatic}} | Complexity analysis |
| CICS Programs | {{metadata.cics_program_count}} | EXEC CICS extraction |
| DB2 Programs | {{metadata.db2_program_count}} | EXEC SQL extraction |
| Batch Programs | {{metadata.batch_program_count}} | JCL analysis |
{{/if}}

### 2.2 Program-Level Migration Strategy

**Source:** Individual program analysis

{{#if strategy.program_strategies}}
| Program | LOC | Complexity | Strategy | Rationale (Source-based) |
|---------|-----|------------|----------|--------------------------|
{{#each strategy.program_strategies}}
| {{this.program}} | {{this.loc}} | {{this.complexity}} | {{this.strategy}} | {{this.rationale}} |
{{/each}}
{{else}}
> **Not found in source:** Program-level strategies require analysis completion.
{{/if}}

---

## 3. COBOL to Java Mapping Rules

### 3.1 Data Type Mapping

**Source:** PIC clause extraction from DATA DIVISION

{{#if mappings.data_types}}
| COBOL PIC Pattern | Occurrences | Java Type | Example Source |
|-------------------|-------------|-----------|----------------|
{{#each mappings.data_types}}
| {{this.cobol_pic}} | {{this.count}} | {{this.java_type}} | `{{this.example_source}}` |
{{/each}}
{{else}}
| COBOL Pattern | Java Type | Notes |
|---------------|-----------|-------|
| PIC 9(n) | int/long | Based on n value |
| PIC 9(n)V9(m) | BigDecimal | Decimal precision |
| PIC S9(n) | int/long | Signed |
| PIC X(n) | String | Character |
| PIC A(n) | String | Alphabetic |

> Source-specific mappings require DATA DIVISION analysis.
{{/if}}

### 3.2 Program Structure Mapping

**Source:** COBOL structure analysis

{{#if mappings.structure}}
| COBOL Construct | Java Equivalent | Occurrences | Example Locations |
|-----------------|-----------------|-------------|-------------------|
{{#each mappings.structure}}
| {{this.cobol}} | {{this.java}} | {{this.count}} | {{this.locations}} |
{{/each}}
{{else}}
| COBOL Construct | Java Equivalent |
|-----------------|-----------------|
| PROGRAM | Class |
| PARAGRAPH | Method |
| SECTION | Method group/Class |
| WORKING-STORAGE | Instance fields |
| COPYBOOK | DTO/Entity class |
| PERFORM | Method call |
| PERFORM VARYING | for loop |
| EVALUATE | switch statement |

> Source-specific mappings require structure analysis.
{{/if}}

### 3.3 File I/O Mapping

**Source:** FILE SECTION and I/O statement extraction

{{#if mappings.file_io}}
| COBOL I/O | File Type | Java Equivalent | Occurrences | Source Locations |
|-----------|-----------|-----------------|-------------|------------------|
{{#each mappings.file_io}}
| {{this.cobol_io}} | {{this.file_type}} | {{this.java_equiv}} | {{this.count}} | {{this.locations}} |
{{/each}}
{{else}}
> **Not found in source:** File I/O mapping requires FILE SECTION analysis.
{{/if}}

### 3.4 DB2/SQL Mapping

**Source:** EXEC SQL extraction

{{#if mappings.sql}}
| SQL Pattern | Occurrences | Java/JPA Equivalent | Example Source |
|-------------|-------------|---------------------|----------------|
{{#each mappings.sql}}
| {{this.sql_pattern}} | {{this.count}} | {{this.java_equiv}} | `{{this.source}}` |
{{/each}}
{{else}}
> **Not found in source:** No EXEC SQL statements detected for mapping.
{{/if}}

### 3.5 CICS Mapping

**Source:** EXEC CICS extraction

{{#if mappings.cics}}
| CICS Command | Occurrences | Java/Spring Equivalent | Source Locations |
|--------------|-------------|------------------------|------------------|
{{#each mappings.cics}}
| {{this.cics_cmd}} | {{this.count}} | {{this.java_equiv}} | {{this.locations}} |
{{/each}}
{{else}}
> **Not found in source:** No EXEC CICS commands detected for mapping.
{{/if}}

---

## 4. Migration Order

### 4.1 Dependency-Based Order

**Source:** CALL and COPY dependency analysis

{{#if strategy.migration_order}}
| Phase | Programs | Dependencies | Rationale |
|-------|----------|--------------|-----------|
{{#each strategy.migration_order}}
| {{this.phase}} | {{this.programs}} | {{this.dependencies}} | {{this.rationale}} |
{{/each}}
{{else}}
> **Not found in source:** Migration order requires dependency graph analysis.
{{/if}}

### 4.2 Copybook Migration Priority

**Source:** Copybook usage analysis

{{#if strategy.copybook_order}}
| Priority | Copybook | Used By (Programs) | Field Count | Source Path |
|----------|----------|-------------------|-------------|-------------|
{{#each strategy.copybook_order}}
| {{this.priority}} | {{this.name}} | {{this.used_by}} | {{this.fields}} | `{{this.path}}` |
{{/each}}
{{else}}
> **Not found in source:** Copybook priority requires usage analysis.
{{/if}}

---

## 5. Target Architecture

### 5.1 Java Package Structure

**Source:** Derived from COBOL program categories

{{#if target.package_structure}}
```
{{target.package_structure}}
```
{{else}}
```
com.company.project/
├── batch/           # From batch COBOL programs
├── online/          # From CICS programs
├── service/         # Business logic
├── repository/      # Data access (from DB2)
├── model/           # From copybooks
└── util/            # Common utilities
```

> Package structure based on program classification from source.
{{/if}}

### 5.2 Program to Class Mapping

**Source:** Program analysis

{{#if target.class_mapping}}
| COBOL Program | Java Class | Package | Source Reference |
|---------------|------------|---------|------------------|
{{#each target.class_mapping}}
| {{this.cobol}} | {{this.java_class}} | {{this.package}} | `{{this.source}}` |
{{/each}}
{{else}}
> **Not found in source:** Class mapping requires program analysis completion.
{{/if}}

### 5.3 Copybook to DTO/Entity Mapping

**Source:** Copybook structure analysis

{{#if target.dto_mapping}}
| Copybook | Java Class | Type | Fields | Source Path |
|----------|------------|------|--------|-------------|
{{#each target.dto_mapping}}
| {{this.copybook}} | {{this.java_class}} | {{this.type}} | {{this.field_count}} | `{{this.source}}` |
{{/each}}
{{else}}
> **Not found in source:** DTO mapping requires copybook analysis.
{{/if}}

---

## 6. Risk Assessment from Source

### 6.1 Complexity-Based Risks

**Source:** Complexity analysis

{{#if risks.complexity}}
| Program | Complexity | Risk Level | Specific Issues | Source Location |
|---------|------------|------------|-----------------|-----------------|
{{#each risks.complexity}}
| {{this.program}} | {{this.complexity}} | {{this.risk}} | {{this.issues}} | `{{this.source}}` |
{{/each}}
{{else}}
> **Not found in source:** Complexity risks require analysis completion.
{{/if}}

### 6.2 Construct-Based Risks

**Source:** Unsupported construct detection

{{#if risks.constructs}}
| Construct | Count | Programs Affected | Migration Risk | Source Evidence |
|-----------|-------|-------------------|----------------|-----------------|
{{#each risks.constructs}}
| {{this.construct}} | {{this.count}} | {{this.programs}} | {{this.risk}} | {{this.evidence}} |
{{/each}}
{{else}}
> **Not found in source:** No problematic constructs detected.
{{/if}}

### 6.3 Dependency Risks

**Source:** External call analysis

{{#if risks.dependencies}}
| Dependency Type | Count | Impact | Mitigation | Source Evidence |
|-----------------|-------|--------|------------|-----------------|
{{#each risks.dependencies}}
| {{this.type}} | {{this.count}} | {{this.impact}} | {{this.mitigation}} | {{this.evidence}} |
{{/each}}
{{else}}
> **Not found in source:** No external dependencies detected.
{{/if}}

---

## 7. Effort Estimation

### 7.1 LOC-Based Estimation

**Source:** LOC and complexity metrics

| Category | LOC | Programs | Complexity Factor | Source |
|----------|-----|----------|-------------------|--------|
{{#if estimation.by_category}}
{{#each estimation.by_category}}
| {{this.category}} | {{this.loc}} | {{this.programs}} | {{this.factor}} | {{this.source}} |
{{/each}}
{{else}}
| All Programs | {{metadata.source_analysis.total_loc}} | {{metadata.source_analysis.total_files}} | {{metadata.complexity.avg_cyclomatic}} | Analysis |
{{/if}}

### 7.2 Component Effort Breakdown

**Source:** Component analysis

{{#if estimation.components}}
| Component | Count | Base Effort | Complexity Adj. | Source |
|-----------|-------|-------------|-----------------|--------|
{{#each estimation.components}}
| {{this.component}} | {{this.count}} | {{this.base}} | {{this.adjustment}} | {{this.source}} |
{{/each}}
{{else}}
| Component | Count | Source |
|-----------|-------|--------|
| COBOL Programs | {{metadata.source_analysis.total_files}} | Program scan |
| Copybooks | {{metadata.copybook_count}} | COPY extraction |
| JCL Jobs | {{metadata.jcl_count}} | JCL scan |
| SQL Statements | {{metadata.sql_count}} | EXEC SQL extraction |
| CICS Transactions | {{metadata.cics_count}} | EXEC CICS extraction |
{{/if}}

---

## 8. Testing Strategy Overview

### 8.1 Test Scope from Source

**Source:** Program and business logic analysis

{{#if testing.scope}}
| Test Area | Components | Source Reference |
|-----------|------------|------------------|
{{#each testing.scope}}
| {{this.area}} | {{this.components}} | {{this.source}} |
{{/each}}
{{else}}
| Test Area | Count | Source |
|-----------|-------|--------|
| Unit Tests (per program) | {{metadata.source_analysis.total_files}} | Program count |
| Integration Tests (per interface) | {{metadata.interface_count}} | Interface extraction |
| Data Migration Tests | {{metadata.source_analysis.database.tables}} | Table count |
{{/if}}

### 8.2 Critical Test Cases from Source

**Source:** Business rule extraction

{{#if testing.critical_cases}}
| Business Rule | Source Program | Source Location | Test Priority |
|---------------|----------------|-----------------|---------------|
{{#each testing.critical_cases}}
| {{this.rule}} | {{this.program}} | `{{this.source}}` | {{this.priority}} |
{{/each}}
{{else}}
> **Not found in source:** Critical test cases require business rule extraction.
{{/if}}

---

## 9. Success Criteria

### 9.1 Source-Based Validation Criteria

| Criteria | Source Baseline | Target | Measurement |
|----------|-----------------|--------|-------------|
| Functional Parity | {{metadata.source_analysis.total_files}} programs | 100% | Test coverage |
| Data Integrity | {{metadata.source_analysis.database.tables}} tables | 100% | Row/checksum validation |
| Performance | Source baseline | ≥ Source | Benchmark comparison |

---

## Appendices

### Appendix A: Program Migration Matrix

{{#if appendix.migration_matrix}}
| Program | Type | LOC | Complexity | Strategy | Priority | Dependencies |
|---------|------|-----|------------|----------|----------|--------------|
{{#each appendix.migration_matrix}}
| {{this.program}} | {{this.type}} | {{this.loc}} | {{this.complexity}} | {{this.strategy}} | {{this.priority}} | {{this.dependencies}} |
{{/each}}
{{/if}}

### Appendix B: Mapping Rules Quick Reference

{{#if appendix.mapping_summary}}
{{appendix.mapping_summary}}
{{/if}}

---

## Traceability Note

All strategy decisions in this document are derived from source code analysis. Each recommendation includes source evidence. Items marked "Not found in source" require manual analysis or decision-making.

---

## Document History

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| {{version}} | {{generated_date}} | {{author}} | Auto-generated from source analysis |

---

**End of Migration Strategy Document**
